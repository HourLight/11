<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>é¦¥éˆä¹‹é‘° Hour Lightï½œèŠ³é¦™èƒ½é‡èª¿é »ç·šä¸ŠæŠ½ç‰Œ</title>
<link rel="icon" type="image/x-icon" href="favicon.ico">
<style>
/*â”â”â”€ ä½ çš„åŸæœ¬ CSS (ä¸è®Š) â”€â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*/
body{
  background:url('https://github.com/HourLight/11/raw/main/background.jpg') no-repeat center center fixed;
  background-size:cover;font-family:Arial,sans-serif;color:#333;text-align:center;padding:20px;margin:0;
}
h1{color:#6b4f3e;font-size:32px;background:rgba(255,255,255,.8);display:inline-block;padding:10px 20px;
  border-radius:15px;margin-bottom:15px;box-shadow:0 2px 5px rgba(0,0,0,.2);}
button{
  background:#a28572;color:#fff;border:none;padding:15px 25px;cursor:pointer;font-size:20px;margin:8px;
  border-radius:15px;box-shadow:0 2px 8px rgba(0,0,0,.2);transition:.3s;
}
button:hover{background:#6b4f3e;transform:translateY(-2px);}
.card-container{display:inline-block;margin:15px;text-align:center;vertical-align:top;}
.card-container img{width:220px;border-radius:15px;box-shadow:0 0 10px rgba(0,0,0,.3);}
.card-number{margin-top:10px;font-size:22px;font-weight:bold;background:rgba(255,255,255,.7);
  padding:5px 10px;border-radius:8px;}
#copyBtn{font-size:22px;padding:12px 20px;margin-top:20px;background:#cda86e;}
.home-button{display:inline-block;padding:8px 20px;background:#cda86e;color:#fff;text-decoration:none;
  border-radius:8px;box-shadow:0 3px 6px rgba(0,0,0,.2);transition:.3s;margin:25px auto;}
.home-button:hover{background:#a28572;transform:translateY(-2px);}
@media(max-width:768px){
  button,#copyBtn{width:80%;margin:12px auto;padding:18px 0;font-size:24px;}
  .card-container img{width:90%;}
}
/*â”â”â”€ â˜…â˜… æ–°å¢ï¼šGPT è§£ç‰Œé¡¯ç¤ºå€å¡Šæ¨£å¼ â”€â”â”â”â”â”â”*/
#answer{
  white-space:pre-wrap;background:rgba(255,255,255,.9);border:1px solid #bbb;padding:15px;margin:25px auto;
  max-width:800px;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,.1);font-size:18px;
  line-height:1.6;color:#333;display:none;
}
</style>
</head>
<body>
<!-- â”â” ä½ çš„åŸæœ‰èªªæ˜ã€é¸å–®å€å¡Šï¼ˆä¿æŒåŸæ¨£ï¼‰ â”â”â”â”â”â”â”â”â”-->
<div style="max-width: 800px; margin: 40px auto 20px; background: rgba(255,255,255,0.8); padding: 25px; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.1); font-size: 18px; line-height: 1.6;">
  <!-- â€¦å…§å®¹ç•¥ â€¦ -->
</div>

<h1>é¦¥éˆä¹‹é‘° Hour Lightï½œèŠ³é¦™èƒ½é‡èª¿é »ç·šä¸ŠæŠ½ç‰Œ</h1>

<div>
  <button onclick="drawCards(1)">æŠ½ 1 å¼µ</button>
  <button onclick="drawCards(3)">æŠ½ 3 å¼µ</button>
  <button onclick="drawCards(5)">æŠ½ 5 å¼µ</button>
  <button onclick="drawCards(7)">æŠ½ 7 å¼µ</button>
  <button onclick="drawCards(9)">æŠ½ 9 å¼µ</button>
  <button onclick="drawCards(12)">æŠ½ 12 å¼µ</button>
  <button onclick="drawCards(15)">æŠ½ 15 å¼µ</button>
  <!-- â˜…â˜… æ–°å¢ï¼šç›´æ¥è§£ææŒ‰éˆ• â˜…â˜… -->
  <button id="interpretBtn" style="background:#6b4f3e;">ğŸŒ¿ ç›´æ¥è§£æï¼ˆä¸è·³è½‰ï¼‰</button>
</div>

<div id="result"></div>
<button id="copyBtn" onclick="copyResult()">ğŸ“‹ è¤‡è£½ç‰Œå¡ç·¨è™Ÿ</button>

<!-- â€¦â€¦ ä½ çš„ Step èªªæ˜ã€é ç´„å€ã€è¿”å›é¦–é æŒ‰éˆ• â€¦â€¦ -->

<!-- â˜…â˜… GPT è§£ç‰Œæ–‡å­—å‘ˆç¾å€ â˜…â˜… -->
<div id="answer"></div>

<script>
/*â”â” ä½ çš„åŸæœ¬ JS â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”*/
let selectedCards=[];
function formatCardNumber(card){
  return card<=22?'A'+(card-1).toString().padStart(2,'0'):(card-22).toString().padStart(3,'0');
}
function drawCards(num){
  alert("è«‹é–‰ä¸Šçœ¼ç›ï¼Œæ·±å‘¼å¸ï¼Œå°ˆå¿ƒæƒ³è‘—æ‚¨çš„å•é¡Œï¼Œå†é»æ“Šç¢ºèªã€‚(é—œé–‰æŒ‰ä¸‹å¾Œå³æŠ½ç‰Œ");
  selectedCards=[];
  while(selectedCards.length<num){
    const n=Math.floor(Math.random()*130)+1;
    if(!selectedCards.includes(n))selectedCards.push(n);
  }
  const resultDiv=document.getElementById('result');
  resultDiv.innerHTML='';
  selectedCards.forEach(c=>{
    const fc=formatCardNumber(c);
    const box=document.createElement('div');
    box.className='card-container';
    box.innerHTML=`<img src="https://github.com/HourLight/11/raw/main/LINE_ALBUM_2025.3.23_250323_${c}.jpg">
                   <div class="card-number">ç·¨è™Ÿï¼š${fc}</div>`;
    resultDiv.appendChild(box);
  });
  document.getElementById('answer').style.display='none'; // æŠ½æ–°ç‰Œæ™‚å…ˆéš±è—èˆŠè§£æ
}
function copyResult(){
  if(selectedCards.length===0){alert("è«‹å…ˆæŠ½ç‰Œå¾Œå†è¤‡è£½ï¼");return;}
  const txt=selectedCards.map(formatCardNumber).join(', ');
  navigator.clipboard.writeText(txt).then(()=>alert('æŠ½ç‰Œç·¨è™Ÿå·²è¤‡è£½ï¼'))
    .catch(()=>alert('è¤‡è£½å¤±æ•—ï¼Œè«‹æ‰‹å‹•è¤‡è£½ï¼š'+txt));
}

/*â”â” â˜…â˜… æ–°å¢ï¼šç›´æ¥è§£æå‡½å¼ â”â”â”â”â”â”â”â”â”â”â”*/
async function interpretNow(){
  if(selectedCards.length===0){
    alert('è«‹å…ˆæŠ½ç‰Œï¼');return;
  }
  const prompt=selectedCards.map(formatCardNumber).join(', ');
  const box=document.getElementById('answer');
  box.style.display='block';
  box.textContent='æ€è€ƒä¸­â€¦';
  try{
    const r=await fetch('https://ai-x2if.onrender.com/api/chat',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({prompt})
    });
    const d=await r.json();
    box.textContent=d.text||d.error||'è§£æå¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ï¼';
  }catch(e){
    box.textContent='ä¼ºæœå™¨æ‰“çŒç¡ï¼Œè«‹ç¨å¾Œå†è©¦ï¼';
    console.error(e);
  }
}
document.getElementById('interpretBtn').addEventListener('click', interpretNow);
</script>
</body>
</html>
